import http from 'node:http';

export type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE';
export type RouteHandler = (req: http.IncomingMessage, res: http.ServerResponse) => void;

export interface Route {
  method: HttpMethod;
  path: string;
  handler: RouteHandler;
}

export class Router {
  public routes: Route[] = [];

  private addRoute(method: HttpMethod, path: string, handler: RouteHandler): void {
    this.routes.push({ method, path, handler });
  }

  public get(path: string, handler: RouteHandler): void {
    this.addRoute('GET', path, handler);
  }

  public post(path: string, handler: RouteHandler): void {
    this.addRoute('POST', path, handler);
  }

  public put(path: string, handler: RouteHandler): void {
    this.addRoute('PUT', path, handler);
  }

  public delete(path: string, handler: RouteHandler): void {
    this.addRoute('DELETE', path, handler);
  }
}
